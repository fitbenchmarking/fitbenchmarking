

<!DOCTYPE html>
<html class="writer-html5" lang="en" >
<head>
  <meta charset="utf-8" />
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  
  <title>Why is FitBenchmarking important? &mdash; FitBenchmarking 0.1.dev1 documentation</title>
  

  
  <link rel="stylesheet" href="../_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="../_static/pygments.css" type="text/css" />

  
  

  
  

  

  
  <!--[if lt IE 9]>
    <script src="../_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="../" src="../_static/documentation_options.js"></script>
        <script src="../_static/jquery.js"></script>
        <script src="../_static/underscore.js"></script>
        <script src="../_static/doctools.js"></script>
    
    <script type="text/javascript" src="../_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="../genindex.html" />
    <link rel="search" title="Search" href="../search.html" />
    <link rel="next" title="How does FitBenchmarking work?" href="how.html" />
    <link rel="prev" title="FitBenchmarking Concept Documentation" href="index.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="../index.html" class="icon icon-home"> FitBenchmarking
          

          
          </a>

          
            
            
              <div class="version">
                0.1
              </div>
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="../search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <ul class="current">
<li class="toctree-l1 current"><a class="reference internal" href="index.html">Concept</a><ul class="current">
<li class="toctree-l2 current"><a class="current reference internal" href="#">Why is FitBenchmarking important?</a></li>
<li class="toctree-l2"><a class="reference internal" href="how.html">How does FitBenchmarking work?</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="../users/index.html">Users</a></li>
<li class="toctree-l1"><a class="reference internal" href="../extending/index.html">Extending</a></li>
<li class="toctree-l1"><a class="reference internal" href="../contributors/index.html">Contributors</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="../index.html">FitBenchmarking</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          

















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="../index.html" class="icon icon-home"></a> &raquo;</li>
        
          <li><a href="index.html">FitBenchmarking Concept Documentation</a> &raquo;</li>
        
      <li>Why is FitBenchmarking important?</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
          
            <a href="../_sources/concept/why.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="why-is-fitbenchmarking-important">
<span id="why"></span><h1>Why is FitBenchmarking important?<a class="headerlink" href="#why-is-fitbenchmarking-important" title="Permalink to this headline">¶</a></h1>
<p>Fitting a mathematical model to data is a fundamental task across all
scientific disciplines.  (At least) three groups of people have an interest
in fitting software:</p>
<ul class="simple">
<li><p><strong>Scientists</strong>, who want to know what is the best algorithm for fitting
their model to data they might encounter, on their specific hardware;</p></li>
<li><p><strong>Scientific software developers</strong>, who want to know what is the
state-of-the-art in fitting algorithms and implementations,
what they should recommend as their default solver, and if they should
implement a new method in their software; and</p></li>
<li><p><strong>Mathematicians</strong> and <strong>numerical software developers</strong>, who want to understand the
types of problems on which current algorithms do not perform well,
and to have a route to expose newly developed methods to users.</p></li>
</ul>
<p>Representatives of each of these communities have got together to build FitBenchmarking.
We hope this tool will help foster fruitful interactions and collaborations across the disciplines.</p>
<div class="section" id="example-workflow">
<h2>Example workflow<a class="headerlink" href="#example-workflow" title="Permalink to this headline">¶</a></h2>
<p>The black crosses on the plot below are data obtained from an experiment
at the VESUVIO beamline at ISIS Neutron and Muon source:</p>
<div class="figure align-default" id="id1">
<a class="reference internal image-reference" href="../_images/start_for_EVS14188-90_processed_Gaussian_peaks_1_1.png"><img alt="VESUVIO experiment data" src="../_images/start_for_EVS14188-90_processed_Gaussian_peaks_1_1.png" style="width: 100.0%;" /></a>
<p class="caption"><span class="caption-text">VESUVIO experiment data</span><a class="headerlink" href="#id1" title="Permalink to this image">¶</a></p>
</div>
<p>The scientist needs to interpret this data, and will typically
use a data analysis package to help with this. Such packages are
written by specialist scientific software developers, who are experts in
analysing the kind of data produced by a given experiment;
examples include <a class="reference external" href="https://mantidproject.org/">Mantid</a>,
<a class="reference external" href="https://www.sasview.org">SasView</a>, and <a class="reference external" href="https://horace.isis.rl.ac.uk">Horace</a>.</p>
<p>These packages include mathematical models, which depend on parameters,
that can describe the data.
We need to find values for the parameters in these models which
best fit the data – for more background, see this <a class="reference external" href="https://en.wikipedia.org/wiki/Goodness_of_fit">Wikipedia article</a>.
The usual way this is done is by finding parameters that minimize the
(weighted) squares of the error in the data, or <span class="math">\chi^2</span> value.
This is equivalent to formulating a nonlinear
least-squares problem; specifically, given <span class="math">n</span> data points
<span class="math">(x_i, y_i)</span> (the crosses in the figure above), together
with estimates of the errors on the values of <span class="math">y_i</span>, <span class="math">\sigma_i</span>, we solve</p>
<div class="math">
<p><span class="math">{\boldsymbol{\beta}}^* = \arg \min_{{\boldsymbol{\beta}}} \underbrace{\sum_i \left( \frac{y_i - f({\boldsymbol{\beta}};x_i)}{\sigma_i} \right)^2}_{\chi^2({\boldsymbol{\beta}})},\label{eq:chi2}</span></p>
</div><p>where <span class="math">f({\boldsymbol{\beta}};x)</span> is the model we’re trying to
fit, and <span class="math">\boldsymbol{\beta}</span> are the parameters we’re trying to
find.</p>
<p>Usually the scientist will supply a starting guess,
<span class="math">{\boldsymbol{\beta}}_0</span> (the pink curve in the graph above),
which describes where they think the solution might be.
She then has to <em>choose which algorithm to use to fit the curve</em>
from the selection available in the analysis software.
Different algorithms may be more or
less suited to a problem, depending on factors such as the architecture
of the machine, the availability of first and second derivatives, the
amount of data, the type of model used, etc.</p>
<p>Below we show the data overlayed by a blue curve, which is a model fitted using the
implementation of the Levenberg-Marquardt algorithm from the GNU Scientific Library (<code class="code docutils literal notranslate"><span class="pre">lmsder</span></code>).
The algorithm claims to have found a local minimum with a Chi-squared error of
0.4771 in 1.9 seconds.</p>
<div class="figure align-default" id="id2">
<a class="reference internal image-reference" href="../_images/lmsder_fit_for_EVS14188-90_processed_Gaussian_peaks_1_1.png"><img alt="VESUVIO experiment data: :code:`lmsder`" src="../_images/lmsder_fit_for_EVS14188-90_processed_Gaussian_peaks_1_1.png" style="width: 100.0%;" /></a>
<p class="caption"><span class="caption-text">GSL’s <code class="code docutils literal notranslate"><span class="pre">lmsder</span></code> (Levenberg-Marquardt) algorithm on the data</span><a class="headerlink" href="#id2" title="Permalink to this image">¶</a></p>
</div>
<p>We also solved the nonlinear least squares problem using GSL’s implementation of
a Nedler-Mead simplex algorithm (<code class="code docutils literal notranslate"><span class="pre">nmsimplex2</span></code>), which again claimed to solve
the problem, this time in a faster 1.5 seconds.  However, this time the Chi-squared error was
0.8505, and we plot the curve obtained in green below.  The previous curve
is in dotted-blue, for comparison.</p>
<div class="figure align-default" id="id3">
<a class="reference internal image-reference" href="../_images/nmsimplex2_fit_for_EVS14188-90_processed_Gaussian_peaks_1_1.png"><img alt="VESUVIO experiment data: :code:`nmsimplex2`" src="../_images/nmsimplex2_fit_for_EVS14188-90_processed_Gaussian_peaks_1_1.png" style="width: 100.0%;" /></a>
<p class="caption"><span class="caption-text">GSL’s <code class="code docutils literal notranslate"><span class="pre">nmsimplex2</span></code> (Nelder-Mead Simplex) algorithm on the data</span><a class="headerlink" href="#id3" title="Permalink to this image">¶</a></p>
</div>
<p>By eye it is clear that the solution given by <code class="code docutils literal notranslate"><span class="pre">lmsder</span></code> is better.
As the volume of data increases, and we do more and more data analysis
algorithmically, it is increasingly important that we have the best algorithm
without needing to check it by eye.</p>
<p>FitBenchmarking will help the <strong>scientist</strong> make an informed choice by
comparing runtime and accuracy of all available minimizers, on their
specific hardware, on problems from their science area, which will
ensure they are using the most appropriate minimizer.</p>
<p>FitBenchmarking will help the <strong>scientific software developer</strong> ensure
that the most robust and quickest algorithms for the type of data
analysis they support are available in their software.</p>
<p>FitBenchmarking will help <strong>mathematicians</strong> see what the state of the
art is, and what kinds of data are problematic.  It will give
them access to real data, and will give a route for novel methods to
quickly make it into production.</p>
<p>A workflow as described above plays a crucial role in the processing and analysis of
data at large research facilities in tasks as diverse as instrument
calibration, refinement of structures, and data analysis methods specific
to different scientific techniques. FitBenchmarking will ensure that, across
all areas that utilise least-squares fitting, scientists can be confident they are
using the best tool for the job.</p>
<p>We discuss the specific
FitBenchmarking paradigm in the Section <a class="reference internal" href="how.html#how"><span class="std std-ref">How does FitBenchmarking work?</span></a></p>
</div>
</div>


           </div>
           
          </div>
          <footer>
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
        <a href="how.html" class="btn btn-neutral float-right" title="How does FitBenchmarking work?" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right" aria-hidden="true"></span></a>
        <a href="index.html" class="btn btn-neutral float-left" title="FitBenchmarking Concept Documentation" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left" aria-hidden="true"></span> Previous</a>
    </div>

  <hr/>

  <div role="contentinfo">
    <p>
        &#169; Copyright 2020, STFC.

    </p>
  </div>
    
    
    
    Built with <a href="https://www.sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/readthedocs/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>
        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>